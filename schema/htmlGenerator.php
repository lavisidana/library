<?php
$file = fopen("input.csv","r"); //input file
$data;
while(! feof($file)){
  $data[] = fgetcsv($file);
  }
  fclose($file);

$file = fopen("output.csv","w"); // output file
$i = 0 ;
foreach ($data as $line) {

    if($i==0):
        $line[] = "HTML";
    else:
            $pattern = (!empty($line[74]))?'<li><font rwr="1" size="4" style="font-family:Arial"><font rwr="1" size="4" style="font-family:Arial"><font face="Calibri" size="4">Pattern: '.$line[74].'</font></font></font></li>':'';
    $images = '';
    if(!empty($line[78])){
        $images .= '<div id="productGallery" style="width: 689px;height: 40px;text-align: center;background-color: #c89543;margin-left: -1%;padding: 5px 0px 0px 0px;"><h1>Product Images Gallery</h1></div><p> Here you can see the product in different images.</p><p></p><ul id="SuperThumbs">';
        $productimages = explode("|",$line[78]);
        foreach ($productimages as $productimage) {
        // echo $productimage;
            $images .= '<li><a href="#"><img src="https://'.$productimage.'"></a></li>';
        }
   $images .= '</ul>';
}
    $line[] = '<style type="text/css">#SuperBG {width:100%;background-image:url("https://3.bp.blogspot.com/-gtWwwBppZyU/XBLm3TuUrGI/AAAAAAAABX8/fkFVUacEpakT2T6bvZKDzN0bNvsiEdfbQCHMYCw/s1600/1280x1024-light-gray-solid-color-background.jpg");}#SuperWrapper {width: 750px;margin-left: auto;margin-right: auto;font-family: arial, Helvetica, sans-serif;font-size: 12px;color: #000000;}#SuperWrapper p {margin: 0px;padding: 0px 0px 15px 0px;line-height: 20px;}#SuperWrapper h1 {padding: 0px 0px 10px 0px;margin: 0px;font-size: 30px;font-weight: bold;letter-spacing: -2px;color: #000000;}#SuperWrapper a {font-weight: bold;text-decoration: underline;color: #000000;}#SuperWrapper a:hover {text-decoration:none;}#SuperHeader {width: 750px;height: 318px;background-image: url("https://www.superauctiontemplate.com/freebaytemplate/productimages/GeneralShopping16/HTML/images/Header.jpg");}#SuperHeaderLogo {padding: 107px 0px 0px 0px;font-family: Cambria;font-size: 65px;letter-spacing: -1px;font-weight: normal;margin: 0px;text-align: center;line-height: 50px;color: #FFFFFF;text-shadow: -2px -3px -3px #000;text-transform: uppercase;}#SuperHeaderMenu {margin: 0px;}#SuperHeaderMenu ul.navi{padding: 0px;margin: 0px 0px 0px 0px;width: 750px;text-align: center;position: relative;}#SuperHeaderMenu ul.navi li{height: 22px;padding: 0 10px 0 10px;margin: 0px;display: inline;}#SuperHeaderMenu ul.navi li a{padding: 0px 8px 0px 8px;font: 18px arial, Helvetica, sans-serif;color: #FFFFFF;text-decoration: none;text-indent: 0px;font-weight: bold;margin: 0;width: inherit;letter-spacing: -1px;line-height: 30px;}#SuperHeaderMenu ul.navi li a:hover{color: #FFFF99;}#SuperContentsWrapper {width: 750px;background-image: url("https://www.superauctiontemplate.com/freebaytemplate/productimages/GeneralShopping16/HTML/images/Contents.jpg");}#SuperContents {width: 750px;background-image: url("https://www.superauctiontemplate.com/freebaytemplate/productimages/GeneralShopping16/HTML/images/Contents.jpg");background-repeat: no-repeat;}#SuperContentsSub {padding: 0px 40px 0px 40px;}#SuperFooter {width: 750px;height: 44px;background-image:url("https://www.superauctiontemplate.com/freebaytemplate/productimages/GeneralShopping16/HTML/images/Footer.jpg");}#SuperFooterLink {width: 750px;background-image:url("https://www.superauctiontemplate.com/freebaytemplate/productimages/GeneralShopping16/HTML/images/BG.jpg");height: 100px;}#SuperBoxContents {padding: 0px 80px 0px 80px;margin: 0px;color: #000000;}#SuperBoxContents p {padding: 0px 0px 10px 0px;margin: 0px;line-height: 20px;}#SuperBoxContents a {color: #000000;text-decoration: underline;}#SuperBoxContents a:hover {text-decoration:none;}#SuperBoxContents ul {padding: 0px 0px 0px 28px;margin: 0px;list-style-type: disc;}#SuperBoxContents li {line-height: 20px;}#SuperPayment {width: 750px;}#SuperPaymentTop, #SuperShippingTop, #SuperContactsTop, #SuperReturnsTop {width: 689px;height: 40px;text-align: center;background-color: #c89543;margin-left: 4%;padding: 5px 0px 0px 0px;}#SuperPaymentContents {width: 750px;background-image:url("https://www.superauctiontemplate.com/freebaytemplate/productimages/GeneralShopping16/HTML/images/PaymentPolicyContents.jpg");}#SuperPaymentBottom {width: 750px;height: 53px;background-image:url("https://www.superauctiontemplate.com/freebaytemplate/productimages/GeneralShopping16/HTML/images/PaymentPolicyBottom.jpg");}#SuperShipping {width: 750px;}#SuperShippingContents {width: 750px;background-image:url("https://www.superauctiontemplate.com/freebaytemplate/productimages/GeneralShopping16/HTML/images/ShippingPolicyContents.jpg");}#SuperShippingBottom {width: 750px;height: 53px;background-image:url("https://www.superauctiontemplate.com/freebaytemplate/productimages/GeneralShopping16/HTML/images/ShippingPolicyBottom.jpg");}#SuperContacts {width: 750px;}#SuperContactsContents {width: 750px;background-image:url("https://www.superauctiontemplate.com/freebaytemplate/productimages/GeneralShopping16/HTML/images/ContactsContents.jpg");}#SuperContactsBottom {width: 750px;height: 53px;background-image:url("https://www.superauctiontemplate.com/freebaytemplate/productimages/GeneralShopping16/HTML/images/ContactsBottom.jpg");}#SuperReturns {width: 750px;}#SuperReturnsContents {width: 750px;background-image:url("https://www.superauctiontemplate.com/freebaytemplate/productimages/GeneralShopping16/HTML/images/ReturnsContents.jpg");}#SuperReturnsBottom {width: 750px;height: 53px;background-image:url("https://www.superauctiontemplate.com/freebaytemplate/productimages/GeneralShopping16/HTML/images/ReturnsBottom.jpg");}/* HTML5 ELEMENTS *//* sub images > thumbnail list */ul#SuperThumbs, ul#SuperThumbs li {margin: 0;padding: 0;list-style: none;}ul#SuperThumbs li {float: left;background: #e8e8e8;border: 1px #cccccc;margin: 0px 0px 10px 10px;padding: 8px;-moz-border-radius: 10px;border-radius: 10px;}ul#SuperThumbs a {float: left;display: block;width: 138px;height: 138px;line-height: 100px;overflow: hidden;position: relative;z-index: 1;}ul#SuperThumbs a img {float: left;width: 100%;height: 100%;border: 0px;}/* sub images > mouse over */ul#SuperThumbs a:hover {overflow: visible;z-index: 1000;border: none;}ul#SuperThumbs a:hover img {background: #ffffff;border: 1px solid #cccccc;padding: 10px;-moz-border-radius: 10px;border-radius: 10px; position: absolute; top:-20px; left:-50px; width: auto; height: auto; }/* sub images > clearing floats */ul#SuperThumbs:after, li#SuperThumbs:after {content: ".";display: block;height: 0;clear: both;visibility: hidden;}ul#SuperThumbs, li#SuperThumbs {display: block;}ul#SuperThumbs, li#SuperThumbs {min-height: 1%;}* html ul#SuperThumbs, * html li#SuperThumbs {height: 1%;}</style><div id="SuperBG"><div id="SuperWrapper"><div id="SuperHeader"><div id="SuperHeaderLogo"><span style="color: #ff9c00;">shoppy</span><span style="margin-left: -18px;color: black;"> pal</span></div><div id="SuperHeaderMenu"></div></div><div id="SuperContentsWrapper"><div id="SuperContents"><div id="SuperContentsSub"><h1>'.$line[67].'</h1><p><font rwr="1" size="4" style="font-family:Arial"><font rwr="1" size="4" style="font-family:Arial"></font></font></p><p><font rwr="1" size="4" style="font-family:Arial"><font rwr="1" size="4" style="font-family:Arial"><font face="Calibri" size="4">'.$line[68].'<br><br><b>Specifications:</b><br></font></font></font></p><ul><li><font rwr="1" size="4" style="font-family:Arial"><font rwr="1" size="4" style="font-family:Arial"><font face="Calibri" size="4">Size: '.$line[69].'</font></font></font></li><li><font rwr="1" size="4" style="font-family:Arial"><font rwr="1" size="4" style="font-family:Arial"><font face="Calibri" size="4">Material: '.$line[70].'</font></font></font></li><li><font rwr="1" size="4" style="font-family:Arial"><font rwr="1" size="4" style="font-family:Arial"><font face="Calibri" size="4">Color: '.$line[71].'</font></font></font></li><li><font rwr="1" size="4" style="font-family:Arial"><font rwr="1" size="4" style="font-family:Arial"><font face="Calibri" size="4">Collection: '.$line[72].'</font></font></font></li><li><font rwr="1" size="4" style="font-family:Arial"><font rwr="1" size="4" style="font-family:Arial"><font face="Calibri" size="4">Pile Height: '.$line[73].'</font></font></font></li>'.$pattern.'<li><font rwr="1" size="4" style="font-family:Arial"><font rwr="1" size="4" style="font-family:Arial"><font face="Calibri" size="4">Weave TYPE: '.$line[75].'</font></font></font></li><li><font rwr="1" size="4" style="font-family:Arial"><font rwr="1" size="4" style="font-family:Arial"><font face="Calibri" size="4">Shape: '.$line[76].'</font></font></font></li><li><font rwr="1" size="4" style="font-family:Arial"><font rwr="1" size="4" style="font-family:Arial"><font face="Calibri" size="4">Country: '.$line[77].'</font></font></font></li></ul><font rwr="1" size="4" style="font-family:Arial"><font rwr="1" size="4" style="font-family:Arial"><font face="Calibri" size="4"><br><b>Payment Policy:</b><br>ShoppyPal accepts Visa / Mastercard / American Express / Discover through PayPal. Payment must be received within 1 day of purchase as usually we ship in 2-3 days.<br><br><b>Shipping/RETURN Policy:</b><br><ul><li>We provide FREE SHIPPING, and only ship to the contingous 48 states in USA!</li><li>We will provide you a tracking number so you track it.</li><li>We only ship to the address verified in your Paypal account.</li><li>Delivery time is 3-7 business days in most cases. Orders are not processed during weekends/holidays.</li><li>We do not ship to Virgin Islands/ Peurto Rico/ Guam / Hawaii / Alaska or outside USA.</li><li>We do not ship to PO Box/APO/FPO/DPO.</li><li>We do not offer combined shipping services or Local pickup.</li><li>If the order(s) are cancelled/returned for reasons other than manufacturing defect/damage, and returned in original condition within 30 days from the date it was shipped from the warehouse, a restocking fee of 20% is applicable. Note: For Dalyn and Oriental Weavers - 25% restocking fee is applicable.</li><li>Cancellations can usually be done within 3 hours of placing the order. If you cancel order after it ships then you can return by paying for the return shipping and any restocking fee as applicable.&nbsp;</li><li>You can return a product within 30 days from the ship date. For some products like Loloi, the you must notify within 5 days of delivery (delivery date as shown by Shipping carrier tracking ID). </li><li>Any product you return must be in the same condition as original.</li><li>We are US based.</li><li>For any questions or concerns please contact us via contact us link.</li><li>Thank you for shopping with us!</li></ul><br><b>About us:</b><br>ShoppyPal offers a variety of Home &amp; Living products via online shopping. ShoppyPal highlights products from many top quality vendors to cater to a broad range of consumer budgets and tastes. We strive to be a leader in providing top quality brands with best choices of styles providing a quality online shopping experience as well as a great customer service. ShoppyPal offers products from top manufacturers and importers in a variety of sizes, colors, and shapes at the best prices.<br><br><b>Contact us:</b><br>Customer Service is available via emails. If you need support, please email us by clicking on the contact seller link.</font><p></p></font></font><p></p><p></p>'.$images.'</div><div id="SuperPayment"><div id="SuperPaymentTop"><h1>Payment Policy</h1></div><div id="SuperPaymentContents"><div id="SuperBoxContents">ShoppyPal accepts Visa / Mastercard / American Express / Discover through PayPal. Payment must be received within 1 day of purchase as usually we ship in 2-3 days.</div></div><div id="SuperPaymentBottom"></div></div><div id="SuperShipping"><div id="SuperShippingTop"><h1>Shipping Policy</div><div id="SuperShippingContents"><div id="SuperBoxContents">We provide FREE SHIPPING, and only ship to the contingous 48 states in USA!<li>We will provide you a tracking number so you track it.</li><li>We only ship to the address verified in your Paypal account.</li><li>Delivery time is 3-7 business days in most cases. Orders are not processed during weekends/holidays.</li><li>We do not ship to Virgin Islands/ Peurto Rico/ Guam / Hawaii / Alaska or outside USA.</li><li>We do not ship to PO Box/APO/FPO/DPO.</li><li>We do not offer combined shipping services or Local pickup.</li><li>If the order(s) are cancelled/returned for reasons other than manufacturing defect/damage, and returned in original condition within 30 days from the date it was shipped from the warehouse, a restocking fee of 20% is applicable. Note: For Dalyn and Oriental Weavers - 25% restocking fee is applicable.</li><li>Cancellations can usually be done within 3 hours of placing the order. If you cancel order after it ships then you can return by paying for the return shipping and any restocking fee as applicable.&nbsp;</li><li>You can return a product within 30 days from the ship date. For some products like Loloi, the you must notify within 5 days of delivery (delivery date as shown by Shipping carrier tracking ID). </li><li>Any product you return must be in the same condition as original.</li><li>We are US based.</li><li>For any questions or concerns please contact us via contact us link.</li><li>Thank you for shopping with us!</li></div></div><div id="SuperShippingBottom"></div></div><div id="SuperContacts"><div id="SuperContactsTop"><h1>Refund Policy</div><div id="SuperContactsContents"><div id="SuperBoxContents"><ul><li>We provide FREE SHIPPING, and only ship to the contingous 48 states in USA!</li><li>We will provide you a tracking number so you track it.</li><li>We only ship to the address verified in your Paypal account.</li><li>Delivery time is 3-7 business days in most cases. Orders are not processed during weekends/holidays.</li><li>We do not ship to Virgin Islands/ Peurto Rico/ Guam / Hawaii / Alaska or outside USA.</li><li>We do not ship to PO Box/APO/FPO/DPO.</li><li>We do not offer combined shipping services or Local pickup.</li><li>If the order(s) are cancelled/returned for reasons other than manufacturing defect/damage, and returned in original condition within 30 days from the date it was shipped from the warehouse, a restocking fee of 20% is applicable. Note: For Dalyn and Oriental Weavers - 25% restocking fee is applicable.</li><li>Cancellations can usually be done within 3 hours of placing the order. If you cancel order after it ships then you can return by paying for the return shipping and any restocking fee as applicable.&nbsp;</li><li>You can return a product within 30 days from the ship date. For some products like Loloi, the you must notify within 5 days of delivery (delivery date as shown by Shipping carrier tracking ID). </li><li>Any product you return must be in the same condition as original.</li><li>We are US based.</li><li>For any questions or concerns please contact us via contact us link.</li><li>Thank you for shopping with us!</li></ul><br><b></b></div></div><div id="SuperContactsBottom"></div></div><div id="SuperReturns"><div id="SuperReturnsTop"><h1>Contact and Support</h1></div><div id="SuperReturnsContents"><div id="SuperBoxContents"><p></p><ul><b><br>Customer Service is available via emails. If you need support, please email us by clicking on the contact seller link.<p></p></b></ul><b><br><b></b></b></div></div><div id="SuperReturnsBottom"></div></div></div></div><div id="SuperFooter"></div><div id="SuperFooterLink"><p align="center"><b><b> </b></b></p><p align="center"></p></div></div></div>';
endif;
    unset($line[67]);
    unset($line[68]);
    unset($line[69]);
    unset($line[70]);
    unset($line[71]);
    unset($line[72]);
    unset($line[73]);
    unset($line[74]);
    unset($line[75]);
    unset($line[76]);
    unset($line[77]);
    $line = array_values($line);
    print_r($line);
  fputcsv($file, $line);
  $i++;
}

fclose($file);
?>
